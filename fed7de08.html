<html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><meta content="width=device-width, initial-scale=1" name="viewport" /><title>How to get started with Nix - Alessandro Marrella</title><link href="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" rel="icon" /><link href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css" rel="stylesheet" /><style type="text/css">body{background-color:#eeeeee !important;font-family:"Ubuntu", serif !important}body .ui.container{font-family:"Ubuntu", serif !important}body h1, h2, h3, h4, h5, h6, .ui.header, .headerFont{font-family:"Kanit", sans-serif !important}body code, pre, tt, .monoFont{font-family:"Roboto Mono","SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace !important}body div.z-index ul{list-style-type:square;padding-left:1.5em}body div.z-index .uplinks{margin-left:0.29999em}body div#neuron-theme-default-teal .zettel-content h1{background-color:rgba(0,181,173,0.1)}body div#neuron-theme-default-teal span.zettel-link-container span.zettel-link a{color:#00b5ad}body div#neuron-theme-default-teal span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#00b5ad}body div#neuron-theme-default-teal .deemphasized:hover div.item a:hover{color:#00b5ad !important}body div#neuron-theme-default-teal div#footnotes{border-top-color:#00b5ad}body div#neuron-theme-default-brown .zettel-content h1{background-color:rgba(165,103,63,0.1)}body div#neuron-theme-default-brown span.zettel-link-container span.zettel-link a{color:#a5673f}body div#neuron-theme-default-brown span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#a5673f}body div#neuron-theme-default-brown .deemphasized:hover div.item a:hover{color:#a5673f !important}body div#neuron-theme-default-brown div#footnotes{border-top-color:#a5673f}body div#neuron-theme-default-red .zettel-content h1{background-color:rgba(219,40,40,0.1)}body div#neuron-theme-default-red span.zettel-link-container span.zettel-link a{color:#db2828}body div#neuron-theme-default-red span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#db2828}body div#neuron-theme-default-red .deemphasized:hover div.item a:hover{color:#db2828 !important}body div#neuron-theme-default-red div#footnotes{border-top-color:#db2828}body div#neuron-theme-default-orange .zettel-content h1{background-color:rgba(242,113,28,0.1)}body div#neuron-theme-default-orange span.zettel-link-container span.zettel-link a{color:#f2711c}body div#neuron-theme-default-orange span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#f2711c}body div#neuron-theme-default-orange .deemphasized:hover div.item a:hover{color:#f2711c !important}body div#neuron-theme-default-orange div#footnotes{border-top-color:#f2711c}body div#neuron-theme-default-yellow .zettel-content h1{background-color:rgba(251,189,8,0.1)}body div#neuron-theme-default-yellow span.zettel-link-container span.zettel-link a{color:#fbbd08}body div#neuron-theme-default-yellow span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#fbbd08}body div#neuron-theme-default-yellow .deemphasized:hover div.item a:hover{color:#fbbd08 !important}body div#neuron-theme-default-yellow div#footnotes{border-top-color:#fbbd08}body div#neuron-theme-default-olive .zettel-content h1{background-color:rgba(181,204,24,0.1)}body div#neuron-theme-default-olive span.zettel-link-container span.zettel-link a{color:#b5cc18}body div#neuron-theme-default-olive span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#b5cc18}body div#neuron-theme-default-olive .deemphasized:hover div.item a:hover{color:#b5cc18 !important}body div#neuron-theme-default-olive div#footnotes{border-top-color:#b5cc18}body div#neuron-theme-default-green .zettel-content h1{background-color:rgba(33,186,69,0.1)}body div#neuron-theme-default-green span.zettel-link-container span.zettel-link a{color:#21ba45}body div#neuron-theme-default-green span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#21ba45}body div#neuron-theme-default-green .deemphasized:hover div.item a:hover{color:#21ba45 !important}body div#neuron-theme-default-green div#footnotes{border-top-color:#21ba45}body div#neuron-theme-default-blue .zettel-content h1{background-color:rgba(33,133,208,0.1)}body div#neuron-theme-default-blue span.zettel-link-container span.zettel-link a{color:#2185d0}body div#neuron-theme-default-blue span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#2185d0}body div#neuron-theme-default-blue .deemphasized:hover div.item a:hover{color:#2185d0 !important}body div#neuron-theme-default-blue div#footnotes{border-top-color:#2185d0}body div#neuron-theme-default-violet .zettel-content h1{background-color:rgba(100,53,201,0.1)}body div#neuron-theme-default-violet span.zettel-link-container span.zettel-link a{color:#6435c9}body div#neuron-theme-default-violet span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#6435c9}body div#neuron-theme-default-violet .deemphasized:hover div.item a:hover{color:#6435c9 !important}body div#neuron-theme-default-violet div#footnotes{border-top-color:#6435c9}body div#neuron-theme-default-purple .zettel-content h1{background-color:rgba(163,51,200,0.1)}body div#neuron-theme-default-purple span.zettel-link-container span.zettel-link a{color:#a333c8}body div#neuron-theme-default-purple span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#a333c8}body div#neuron-theme-default-purple .deemphasized:hover div.item a:hover{color:#a333c8 !important}body div#neuron-theme-default-purple div#footnotes{border-top-color:#a333c8}body div#neuron-theme-default-pink .zettel-content h1{background-color:rgba(224,57,151,0.1)}body div#neuron-theme-default-pink span.zettel-link-container span.zettel-link a{color:#e03997}body div#neuron-theme-default-pink span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#e03997}body div#neuron-theme-default-pink .deemphasized:hover div.item a:hover{color:#e03997 !important}body div#neuron-theme-default-pink div#footnotes{border-top-color:#e03997}body div#neuron-theme-default-grey .zettel-content h1{background-color:rgba(118,118,118,0.1)}body div#neuron-theme-default-grey span.zettel-link-container span.zettel-link a{color:#767676}body div#neuron-theme-default-grey span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#767676}body div#neuron-theme-default-grey .deemphasized:hover div.item a:hover{color:#767676 !important}body div#neuron-theme-default-grey div#footnotes{border-top-color:#767676}body div#neuron-theme-default-black .zettel-content h1{background-color:rgba(27,28,29,0.1)}body div#neuron-theme-default-black span.zettel-link-container span.zettel-link a{color:#1b1c1d}body div#neuron-theme-default-black span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#1b1c1d}body div#neuron-theme-default-black .deemphasized:hover div.item a:hover{color:#1b1c1d !important}body div#neuron-theme-default-black div#footnotes{border-top-color:#1b1c1d}body p{line-height:150%}body img{max-width:100%}body .deemphasized{font-size:0.84999em}body .deemphasized:hover{opacity:1}body .deemphasized:not(:hover){opacity:0.69999}body .deemphasized:not(:hover) span.zettel-link a, div.item a{color:#808080 !important}body div.zettel-view ul{padding-left:1.5em;list-style-type:square}body div.zettel-view .pandoc .ui.disabled.fitted.checkbox{margin-right:0.29999em}body div.zettel-view .zettel-content .metadata{margin-top:1em}body div.zettel-view .zettel-content .metadata div.date{text-align:center;color:#808080}body div.zettel-view .zettel-content h1{padding-top:0.2em;padding-bottom:0.2em;text-align:center}body div.zettel-view .zettel-content h2{border-bottom:solid 1px #4682b4;margin-bottom:0.5em}body div.zettel-view .zettel-content h3{margin:0px 0px 0.4em 0px}body div.zettel-view .zettel-content h4{opacity:0.8}body div.zettel-view .zettel-content div#footnotes{margin-top:4em;border-top-style:groove;border-top-width:2px;font-size:0.9em}body div.zettel-view .zettel-content aside.footnote-inline{width:30%;padding-left:15px;margin-left:15px;float:right;background-color:#d3d3d3}body div.zettel-view .zettel-content .overflows{overflow:auto}body div.zettel-view .zettel-content code{margin:auto auto auto auto;font-size:100%}body div.zettel-view .zettel-content p code, li code, ol code{padding:0.2em 0.2em 0.2em 0.2em;background-color:#f8f8f8}body div.zettel-view .zettel-content pre{padding:0.5em 0.5em 0.5em 0.5em;overflow:auto;max-width:100%}body div.zettel-view .zettel-content div.pandoc-code{margin-left:auto;margin-right:auto}body div.zettel-view .zettel-content div.pandoc-code pre{background-color:#f8f8f8}body div.zettel-view .zettel-content dl dt{font-weight:bold}body div.zettel-view .zettel-content blockquote{background-color:#f9f9f9;border-left:solid 10px #cccccc;margin:1.5em 0px 1.5em 0px;padding:0.5em 10px 0.5em 10px}body div.zettel-view .zettel-content.raw{background-color:#dddddd}body .tree.flipped{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}body .tree{overflow:auto}body .tree ul.root{padding-top:0px;margin-top:0px}body .tree ul{position:relative;padding:1em 0px 0px 0px;white-space:nowrap;margin:0px auto 0px auto;text-align:center}body .tree ul::after{content:"";display:table;clear:both}body .tree ul:last-child{padding-bottom:0.1em}body .tree li{display:inline-block;vertical-align:top;text-align:center;list-style-type:none;position:relative;padding:1em 0.5em 0em 0.5em}body .tree li::before{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{right:auto;left:50%;border-left:solid 2px #cccccc}body .tree li:only-child{padding-top:0em}body .tree li:only-child::after{display:none}body .tree li:only-child::before{display:none}body .tree li:first-child::before{border-style:none;border-width:0px}body .tree li:first-child::after{border-radius:5px 0px 0px 0px}body .tree li:last-child::after{border-style:none;border-width:0px}body .tree li:last-child::before{border-right:solid 2px #cccccc;border-radius:0px 5px 0px 0px}body .tree ul ul::before{content:"";position:absolute;top:0px;left:50%;border-left:solid 2px #cccccc;width:0px;height:1.19999em}body .tree li div.forest-link{border:solid 2px #cccccc;padding:0.2em 0.29999em 0.2em 0.29999em;text-decoration:none;display:inline-block;border-radius:5px 5px 5px 5px;color:#333333;position:relative;top:2px}body .tree.flipped li div.forest-link{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}body .ui.label.zettel-tag a.tag-inner{color:#000000}body .ui.label.zettel-tag a.tag-inner a{color:#000000}body span.zettel-link-container span.zettel-link a{font-weight:bold;text-decoration:none}body span.zettel-link-container span.extra{color:auto}body span.zettel-link-container.raw{border:solid 1px #ff0000}body [data-tooltip]:after{font-size:0.69999em}body div.tag-tree div.node{font-weight:bold}body div.tag-tree div.node a.inactive{color:#555555}body .footer-version img{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%)}body .footer-version img:hover{-webkit-filter:grayscale(0%);-moz-filter:grayscale(0%);-ms-filter:grayscale(0%);-o-filter:grayscale(0%);filter:grayscale(0%)}body .footer-version, .footer-version a, .footer-version a:visited{color:#808080}body .footer-version a{font-weight:bold}body .footer-version{margin-top:1em !important;font-size:0.69999em}body nav.top-menu{padding-top:1em;padding-bottom:1em;justify-content:center;text-align:center}body nav.top-menu > *{padding-left:0px;padding-right:0px}@media only screen and (max-width: 768px){body div#zettel-container{margin-left:0.4em !important;margin-right:0.4em !important}}</style><link href="https://fonts.googleapis.com/css?family=Kanit|Ubuntu|Roboto+Mono&amp;display=swap" rel="stylesheet" /><meta content="Alessandro Marrella" name="author" /><meta content="I started learning Nix a few months ago, when it was introduced to the
company I work for by some brilliant coworkers. I’m still learning and
exploring this space, but I thought I’d share a few tips and resources
that helped me start this journey to help newbies like me start working
with this aweso" name="description" /><link href="https://alessandromarrella.com/fed7de08.html" rel="canonical" /><meta content="How to get started with Nix" property="og:title" /><meta content="Alessandro Marrella" property="og:site_name" /><meta content="article" property="og:type" /><script type="application/ld+json">[{"@context":"https://schema.org","itemListElement":[{"name":"Alessandro Marrella","item":"https://alessandromarrella.com/","@type":"ListItem","position":1}],"@type":"BreadcrumbList"}]</script><style type="text/css">pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style></head><body><div class="ui fluid container" id="neuron-theme-default-orange"><nav class="top-menu"><div class="ui inverted compact neuron icon menu orange"><a class="left item" href="." title="Home"><i class="home icon"></i></a><a class="left item" href="search.html" title="Search Zettels"><i class="search icon"></i></a><a class="center item" href="https://github.com/amarrella/notes/edit/master/fed7de08.md" title="Edit this Zettel"><i class="edit icon"></i></a><a class="right item" href="z-index.html" title="All Zettels (z-index)"><i class="tree icon"></i></a></div></nav><nav class="flipped tree deemphasized" id="zettel-uptree" style="transform-origin: 50%"><ul class="root"><li><ul><li><div class="forest-link"><span class="zettel-link-container"><span class="zettel-link"><a href=".">Alessandro Marrella</a></span></span></div></li></ul></li></ul></nav><div class="ui text container" id="zettel-container" style="position: relative"><div id="zettel-container-anchor" style="position: absolute; top: -24px; left: 0"></div><div class="zettel-view"><article class="ui raised attached segment zettel-content"><h1>How to get started with Nix</h1><div class="pandoc"><p>I started learning Nix a few months ago, when it was introduced to the company I work for by some brilliant coworkers. I’m still learning and exploring this space, but I thought I’d share a few tips and resources that helped me start this journey to help newbies like me start working with this awesome tool.</p><h2 id="what-is-nix">What is Nix</h2><p>From <a href="https://nixos.org">nixos.org</a>:</p><blockquote><p>Nix is a powerful package manager for Linux and other Unix systems that makes package management reliable and reproducible. It provides atomic upgrades and rollbacks, side-by-side installation of multiple versions of a package, multi-user package management and easy setup of build environments.</p></blockquote><p>So yeah, this post talks about a package manager. Usually this is something not very exciting. I can feel readers just thinking “aren’t you just happy with Brew?”. The truth is that Nix solved so many problems well that it’s very hard for me not to get excited about it!</p><p>Let’s break down the features listed in the description above:</p><ul><li><em>package management</em>: well if this wasn’t a feature we wouldn’t really talk about a package manager</li><li><em>makes package management reliable and reproducible</em>: here stuff starts to get interesting. With Nix stuff works on <em>everyone</em>’s machine, not just yours. This is because of how packages are built. Nix will pull all the necessary dependencies for you and packages are usually guaranteed to not need anything else (it makes no assumptions on what you already have installed).</li><li><em>atomic upgrades and rollbacks</em>: for real, it’s like having transactions but for installations. Because of how Nix works (more about it later), multiple versions of the same package can coexist in the system (!) so upgrading will just mean referencing the new version, rolling back referencing the old one. And for everything else, there is garbage collection :)</li><li><em>side by side installation of multiple version of a package</em>: i spoilered this in the point above. But this works <em>really</em> well. You no longer have to decide which version of <code>npm</code> you need in your system and you can even start ephemeral shells with specific versions of stuff.</li><li><em>multi user package management</em>: usually package managers install stuff in user space. Nix normally install stuff so that it’s available to multiple users in the system.</li><li><em>easy setup of build environments</em>: it’s relatively easy to set up isolated build environments with the packages and versions you need. I say relatively because you’d still have to learn Nix, and the learning curve is steep. But once you learn it, it empowers you to do this. It’s much harder to achieve this with “easier” package managers (so much that people starting creating docker images with their build environments, ugh).</li></ul><p>I hope this list convinced you that learning Nix is worth it :) There are many more exciting features (like distributed binary caches, or the possibility to create small docker images and AMIs with the same language and only pull the runtime closures required), but now let’s proceed with the learning stuff.</p><h2 id="how-to-learn-nix">How to learn Nix</h2><h3 id="learn-how-to-install-nix">Learn how to install Nix</h3><p>If you are on Linux or on a Mac Os X version <em>10.14 or earlier (NO CATALINA)</em> , no problem, just follow the instructions <a href="https://nixos.org/nix/manual/sect-multi-user-installation">here</a></p><p>I am linking to the multi user installation instructions because it seems to be the most frequently adopted in the community, so it might be easier to get help.</p><p>If you are on Mac Os X <em>10.15 or above (CATALINA or later)</em>:</p><ul><li>Install nix via: <code>curl -fsSL https://nixos.org/nix/install | sh /dev/stdin --daemon  --darwin-use-unencrypted-nix-store-volume</code></li><li>Close and reopen the terminal to make sure the right environment is loaded.</li></ul><h3 id="learn-to-use-nix-as-a-your-package-manager-replacement">Learn to use Nix as a your package manager replacement</h3><p>This video will explain briefly how to use nix as a “normal” package manager: <a href="https://www.youtube.com/watch?v=NYyImy-lqaA">Nix as a Homebrew Replacement</a></p><p>I will refer to many other videos from the <a href="https://www.youtube.com/playlist?list=PLRGI9KQ3_HP_OFRG6R-p4iFgMSK1t5BHs">Nixology</a> playlist created by Burke Libbey throughout this article. If you want to skip ahead and watch all of them they are a great resource!</p><p>Note: to search packages, the video mentions this link: https://nixos.org/nixos/packages.html?channel=nixpkgs-unstable</p><h3 id="learn-how-to-use-and-create-nix-shells">Learn how to use and create nix-shells</h3><p>Nix shells are a very powerful tool to create isolated development environments. I started creating them for many of the projects I am working on (some projects even have more than one shell) and they truly are a blessing. No more fiddling with different versions of software required in different projects.</p><p>You can start a nix-shell in any project that contains a <code>default.nix</code> or <code>shell.nix</code> file and you will be dropped into a shell which contains the dependencies you need to work. To learn how to create these files, check out the <a href="#learn-how-to-write-a-derivation-in-nix">Learn how to write a derivation in Nix</a> section.</p><p>You can also start random nix shells without those files, just by specifying the packages you need. For example <code>nix-shell -p nodejs-12_x</code> will start a shell with node 12 installed, without polluting your global PATH.</p><p>You can also reference remote paths to start your shell. For example <code>nix-shell https://github.com/amarrella/blog/archive/master.tar.gz</code> will start the nix-shell used to build this blog.</p><h4 id="automatic-nix-shells-with-direnv">Automatic nix-shells with direnv</h4><p><a href="https://direnv.net/">direnv</a> is a software that lets you load and unload enviroment variables when entering and exiting a directory. In combination with a nix shell, this will allow you to get an isolated environment as soon as you <code>cd</code> into the directory. Install <a href="https://direnv.net/docs/installation.html">direnv</a> and <a href="https://github.com/nix-community/nix-direnv">nix-direnv</a>.</p><p>To use it, create a <code>.envrc</code> file in the directory together with the nix shell and add the following line:</p><div class="pandoc-code nosyntax"><pre><code>use nix</code></pre></div><p>That’s it. To enable direnv in the directory, run <code>direnv allow</code> and now every time you cd into that directory the environment is loaded.</p><h3 id="learn-the-nix-language">Learn the Nix language</h3><p>Nix has its own purely functional and (unfortunately) dynamically typed programming language. It’s a quite simple language, designed specifically for the Nix package manager. You can take a tour of the language (you can read up to slide 23, the later slides are way more advanced and not really required): https://nixcloud.io/tour/</p><h3 id="learn-how-to-write-a-derivation-in-nix">Learn how to write a derivation in Nix</h3><p>From <a href="https://nixos.org/nix/manual/">nix manual</a>:</p><blockquote><p>Packages are built from Nix expressions, which is a simple functional language. A Nix expression describes everything that goes into a package build action (a “derivation”): other packages, sources, the build script, environment variables for the build script, etc. Nix tries very hard to ensure that Nix expressions are deterministic: building a Nix expression twice should yield the same result.</p></blockquote><p>I suggest first watching these 3 videos from <a href="https://www.youtube.com/playlist?list=PLRGI9KQ3_HP_OFRG6R-p4iFgMSK1t5BHs">Nixology</a> to get an idea on what you can do with derivations:</p><ul><li><a href="https://www.youtube.com/watch?v=61RCi_5IgEY">Packaging a Gem as a Nix derivation</a></li><li><a href="https://www.youtube.com/watch?v=1nU_hR2kod4">Using nix to prettify <code>ls</code> output on macOS</a></li><li><a href="https://www.youtube.com/watch?v=XMauFegrtB4">Fetching stuff from the internet using Nix derivations</a></li></ul><p>Then when you have a general idea and you need to dig deeper <a href="https://nixos.org/nixos/nix-pills/index.html">Nix pills</a> provides a good overview on how to build nix derivations.</p><p>For a complete reference, you can check out the <a href="https://nixos.org/nix/manual/">nix manual</a>, which contains very useful sections such as the one dedicated to <a href="https://nixos.org/nixpkgs/manual/#sec-functions-library">Nixpkgs library functions</a></p><h4 id="learn-how-to-create-derivations-to-package-your-code">Learn how to create derivations to package your code</h4><p>There are several libraries that help you package your code depending on the programming language you are using. The <a href="https://nixos.org/nixpkgs/manual/#chap-language-support">nixpkgs manual</a> links some of them but sometimes checking out what is in the community leads to easier solutions. For example for Haskell, I’d use <a href="https://github.com/input-output-hk/haskell.nix">haskell.nix</a>.</p><h5 id="learn-to-create-docker-images-with-nix">Learn to create docker images with Nix</h5><p>Nix is also an excellent way of creating small and reproducible docker images. The <a href="https://nixos.org/nixpkgs/manual/#sec-pkgs-dockerTools">dockerTools</a> documentation provides some reference and examples.</p><h3 id="learn-how-to-set-up-your-computer-or-servers-with-nix">Learn how to set up your computer or servers with Nix</h3><p>You can use Nix to manage your home directory and all your user’s environment via <a href="https://github.com/rycee/home-manager">home-manager</a>. It is really refreshing having a home directory and user environment managed in a declarative way, with easy updates to new versions and the possibility of rolling back at any point.</p><p>You can check out these videos from <a href="https://www.youtube.com/playlist?list=PLRGI9KQ3_HP_OFRG6R-p4iFgMSK1t5BHs">Nixology</a> to learn more:</p><ul><li><a href="https://www.youtube.com/watch?v=Ubhc94lrfTo">Installing home-manager</a></li><li><a href="https://www.youtube.com/watch?v=OgUvDXxHlLs">Getting started with home-manager</a></li><li><a href="https://www.youtube.com/watch?v=PmD8Qe8z2sY">From nix-env to home-manager</a></li><li><a href="https://www.youtube.com/watch?v=CID_ZbwObJ8">home-manager: reading the source</a></li></ul><p>The <a href="https://rycee.gitlab.io/home-manager/">home-manager manual</a> is also a great resource. Make sure you check out the <a href="https://rycee.gitlab.io/home-manager/options.html">configuration options</a> appendix as well to see everything you can configure with home-manager.</p><p>You can also use the power of Nix to manage everything that is installed on your machine by <a href="https://nixos.org/nixos/">using NixOs as a linux distribution</a> or installing <a href="https://github.com/LnL7/nix-darwin">nix-darwin</a> on your macOs. Both follow the same principle: you configure your machine using a configuration file and you apply changes atomically with <code>nixos-rebuild</code> or <code>darwin-rebuild</code>. Also here you have the possibility to roll back changes at any point. Here you can check the <a href="https://nixos.org/nixos/manual/">nixos manual</a> and <a href="https://lnl7.github.io/nix-darwin/manual/index.html">nix-darwin manual</a>.</p><p>If you are curious about my configuration, it’s published on <a href="https://github.com/amarrella/nix-config">Github</a>.</p><h2 id="getting-help-from-the-community">Getting help from the community</h2><p>Check out the <a href="https://nixos.org/community.html">nix community</a> page for many official links. I personally lurk on the <a href="https://discourse.nixos.org/">discourse forum</a>, on the <a href="search.html?tag=nix">#nix</a> channel in the functional programming slack (<a href="https://fpchat-invite.herokuapp.com/">invite here</a>) follow Github issues on the <a href="https://github.com/nixos/nix">nix</a> and <a href="https://github.com/nixos/nixpkgs">nixpkgs</a> repositories.</p></div><div class="metadata"><div class="date" title="Zettel date"><time datetime="2020-05-13">2020-05-13</time></div></div></article><nav class="ui bottom attached segment deemphasized"><div class="ui two column grid"><div class="column"></div><div class="column"><span class="ui right ribbon label zettel-tag" title="Tag"><a class="tag-inner" href="search.html?tag=nix" title="See all zettels tagged &#39;nix&#39;">nix</a></span><p></p><span class="ui right ribbon label zettel-tag" title="Tag"><a class="tag-inner" href="search.html?tag=blog" title="See all zettels tagged &#39;blog&#39;">blog</a></span><p></p></div></div></nav></div></div><script>if (window.scrollY == 0) { document.getElementById("zettel-container-anchor").scrollIntoView({behavior: "smooth", block: "start"}); }</script><div class="ui one column grid footer-version"><div class="center aligned column"><div class="ui tiny image"><a href="https://neuron.zettel.page"><img alt="logo" src="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" title="Generated by Neuron" /></a></div></div></div></div></body></html>